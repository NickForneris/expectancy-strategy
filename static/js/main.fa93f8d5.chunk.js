(this["webpackJsonpmy-oa-bot"]=this["webpackJsonpmy-oa-bot"]||[]).push([[0],{35:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),a=c(21),s=c.n(a),l=c(16),i=c(6),d=c(2),o=c(7),j=c(50),m=c(45),b=c(51),h=c(46),u=c(47),x=c(48),O=c(49),f=(c(35),c(10)),g=c.n(f),N=c(22),p=c.n(N),y=c(0);var v=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),c=t[0],r=t[1],a=Object(n.useState)(),s=Object(o.a)(a,2),f=s[0],N=s[1],v=Object(n.useState)(),D=Object(o.a)(v,2),S=D[0],M=D[1],w=Object(n.useState)(!0),T=Object(o.a)(w,2),A=T[0],R=T[1],P=Object(n.useState)(!1),Y=Object(o.a)(P,2),E=Y[0],C=Y[1],I=Object(n.useState)(!1),F=Object(o.a)(I,2),L=F[0],k=F[1],z="/expectancy-strategy/botdata/bots.json",q="/expectancy-strategy/botdata/positions.json",B="/expectancy-strategy/botdata/closed.json";Object(n.useEffect)((function(){fetch(z).then((function(e){return e.json()})).then((function(e){return r(e)})).then(fetch(q).then((function(e){return e.json()})).then((function(e){return N(e)}))).then(fetch(B).then((function(e){return e.json()})).then((function(e){return M(e)})))}),[z,B,q]);var H=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),K=[],U=[],J=[];return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(j.a,{bg:"dark",sticky:"top",children:Object(y.jsx)(m.a,{fluid:!0,children:Object(y.jsx)(j.a.Brand,{className:"text-light p-0",children:Object(y.jsxs)("span",{children:[Object(y.jsx)("img",{src:"/expectancy-strategy/OptionsAnalyzerS.png",alt:"logo - target with arrow",className:"mt-1 mb-2",style:{width:"2.25em"}}),"\xa0",Object(y.jsx)(b.a,{className:"b-color mt-2 mb-2 p-2 text-center",href:"https://optionalpha.com/",children:"Data Sourced from Option Alpha"})]})})})}),Object(y.jsx)(m.a,{fluid:!0,children:Object(y.jsxs)(h.a,{className:"overflow-hidden",children:[function(){var e=Object.entries((S||[]).reduce((function(e,t){var c=t.closeDate,n=t.pnl;return Object(d.a)(Object(d.a)({},e),{},Object(i.a)({},g()(c).format("MMM DD YYYY"),(e[g()(c).format("MMM DD YYYY")]||0)+n))}),{})).map((function(e){var t=Object(o.a)(e,2);return{closeDate:t[0],pnl:t[1]}})).sort((function(e,t){return new Date(e.closeDate)-new Date(t.closeDate)})),t=Object.entries((S||[]).reduce((function(e,t){var c=t.closeDate,n=t.quantity;return Object(d.a)(Object(d.a)({},e),{},Object(i.a)({},g()(c).format("MMM DD YYYY"),(e[g()(c).format("MMM DD YYYY")]||0)+n/n))}),{})).map((function(e){var t=Object(o.a)(e,2);return{closeDate:t[0],quantity:t[1]}})).sort((function(e,t){return new Date(e.closeDate)-new Date(t.closeDate)}));K=Array.from(e.map((function(e){return e.closeDate}))).sort((function(e,t){return new Date(e.closeDate)-new Date(t.closeDate)})),U=Array.from(e.map((function(e){return e.pnl}))).reduce((function(e,t,c){return 0===c?[t]:[].concat(Object(l.a)(e),[t+e[c-1]])}),[]),J=Array.from(t.map((function(e){return 25*e.quantity}))).reduce((function(e,t,c){return 0===c?[t]:[].concat(Object(l.a)(e),[t+e[c-1]])}),[]);var c={options:{annotations:{xaxis:[{x:"Jan 24 2023",strokeDashArray:1,borderColor:"#FF10F0",label:{orientation:"horizontal",borderColor:"#FF10F0",style:{color:"#fff",background:"#FF10F0"},text:["FIXED ROR ERROR","START NEW POSITION STRATEGY"]}}]},chart:{id:"area",type:"area",foreColor:"#fff",toolbar:{show:!1},zoom:{enabled:!1,autoScaleYaxis:!0}},tooltip:{enabled:!0},xaxis:{categories:K,tooltip:{enabled:!1}},dataLabels:{enabled:!1}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.5,stops:[0,50,100]}},series:[{name:"Projected P/L",data:J,color:"#1589FF"},{name:"Actual P/L",data:U,color:"#16F529"}]};return Object(y.jsxs)("div",{className:"pl-chart mb-3 text-white",children:["\u0395\u03bb\u03c0\u03b9\u03c2 (Elpis): Expectancy Strategy",Object(y.jsx)(p.a,{options:c.options,series:c.series,type:"area",width:"100%",height:"175%"})]})}(),Object(y.jsx)(u.a,{sm:2,children:Object(y.jsxs)(x.a,{size:"sm",className:"text-light border border-secondary mt-3",children:[Object(y.jsx)("thead",{children:Object(y.jsx)("tr",{children:Object(y.jsx)("th",{className:"text-center",colSpan:"2",children:"METRICS"})})}),function(){var e=(S||[]).reduce((function(e,t){var c=t.pnl;return c>0?e.wins++:c<0&&e.losses++,e}),{wins:0,losses:0}),t=Math.round(e.wins/(S||[]).length*100)/100,c=Math.round(e.losses/(S||[]).length*100)/100,n=t*((S||[]).filter((function(e){return e.pnl>0})).reduce((function(e,t){return e+t.pnl}),0)/(S||[]).filter((function(e){return e.pnl>0})).length)-c*(-1*(S||[]).filter((function(e){return e.pnl<0})).reduce((function(e,t){return e+t.pnl}),0)/(S||[]).filter((function(e){return e.pnl<0})).length),r=Object.values(S||[]).reduce((function(e,t){return e+t.draw}),0),a=-1*Object.values(S||[]).reduce((function(e,t){return e+t.cost}),0)/r,s=Math.round(Object.values(S||[]).reduce((function(e,t){return e+t.pnl}),0))/r;return Object(y.jsxs)("tbody",{children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"align-middle",children:"Win Percentage"}),Object(y.jsxs)("td",{className:"align-middle",children:[Math.round(100*t),"%"]})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"align-middle",children:"Loss Percentage"}),Object(y.jsxs)("td",{className:"align-middle",children:[Math.round(100*c),"%"]})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"align-middle",children:"Risk-to-Reward Ratio"}),Object(y.jsxs)("td",{className:"align-middle",children:[Math.round(100*a),"%"]})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"align-middle",children:"Return on Risk"}),Object(y.jsxs)("td",{className:"align-middle",children:[Math.round(100*s),"%"]})]}),Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"align-middle",children:"Expectancy Per Trade"}),Object(y.jsx)("td",{className:"align-middle",children:H.format(n)})]})]})}()]})}),Object(y.jsxs)(u.a,{children:[Object(y.jsx)(h.a,{className:"mx-auto mt-3",children:Object(y.jsxs)(O.a,{children:[Object(y.jsx)(b.a,{variant:"outline-secondary",size:"small",className:"mb-2",onClick:function(){R(!A),C(!1),k(!1)},children:"Bot Details"}),Object(y.jsx)(b.a,{variant:"outline-secondary",size:"small",className:"mb-2",onClick:function(){C(!E),R(!1),k(!1)},children:"Current Positions"}),Object(y.jsx)(b.a,{variant:"outline-secondary",size:"small",className:"mb-2",onClick:function(){k(!L),C(!1),R(!1)},children:"Closed Positions"})]})}),Object(y.jsxs)(h.a,{className:"mx-auto mt-3 mb-2 p-1",children:[A?Object(y.jsxs)(x.a,{responsive:!0,size:"sm",className:"sticky text-light border border-secondary",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"text-left header align-middle",children:"BOT"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"POSITIONS"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"ALLOCATION"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"CAP AT RISK"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"P/L"})]})}),Object(y.jsx)("tbody",{children:(c||[]).sort((function(e,t){return t.pnl-e.pnl})).map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"align-middle gold",children:e.name}),Object(y.jsx)("td",{className:"align-middle text-center",children:e.pcount}),Object(y.jsx)("td",{className:"align-middle text-center",children:H.format(e.seed)}),Object(y.jsx)("td",{className:"align-middle text-center",children:H.format(e.draw)}),Object(y.jsxs)("td",{className:"align-middle text-center ".concat(e.pnl<0?"red":"green"),children:[H.format(e.pnl),Object(y.jsx)("br",{}),Math.round(100*e.roi),"%"]})]},t)}))}),Object(y.jsx)("tfoot",{children:function(){var e=Object.values(c||[]).reduce((function(e,t){return e+t.pcount}),0),t=Object.values(c||[]).reduce((function(e,t){return e+t.seed}),0),n=Object.values(c||[]).reduce((function(e,t){return e+t.draw}),0),r=Object.values(c||[]).reduce((function(e,t){return e+t.pnl}),0),a=Math.round(100*r/t);return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{className:"align-middle",children:"TOTALS"}),Object(y.jsx)("td",{className:"align-middle text-center",children:e}),Object(y.jsx)("td",{className:"align-middle text-center",children:H.format(t)}),Object(y.jsx)("td",{className:"align-middle text-center",children:H.format(n)}),Object(y.jsxs)("td",{className:"align-middle text-center ".concat(r<0?"red":"green"),children:[H.format(r),Object(y.jsx)("br",{}),a,"%"]})]})}()})]}):null,E?Object(y.jsxs)(x.a,{responsive:!0,size:"sm",className:"sticky text-light border border-secondary",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"text-left align-middle",children:"CURRENT POSITIONS"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"DAYS"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"QTY"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"CAP AT RISK"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"P/L"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"RETURN ON RISK"})]})}),Object(y.jsx)("tbody",{children:(f||[]).sort((function(e,t){return e.days-t.days})).map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsxs)("td",{className:"gold",children:[Object(y.jsxs)("div",{className:"text-white",children:[e.symbol," | ",e.strategy]}),Object(y.jsx)("div",{children:e.text}),Object(y.jsxs)("div",{className:"grey",children:[g()(e.expiration).format("MMM D")," "]})]}),Object(y.jsx)("td",{className:"align-middle text-center",children:e.days}),Object(y.jsx)("td",{className:"align-middle text-center",children:e.quantity}),Object(y.jsx)("td",{className:"align-middle text-center",children:H.format(e.draw)}),Object(y.jsx)("td",{className:"align-middle text-center ".concat(e.pnl<0?"red":"green"),children:H.format(e.pnl)}),Object(y.jsxs)("td",{className:"align-middle text-center ".concat(e.ror<0?"red":"green"),children:[Math.round(100*e.ror),"%"]})]},t)}))}),Object(y.jsx)("tfoot",{children:function(){var e=(f||[]).length,t=Object.values(f||[]).reduce((function(e,t){return e+t.draw}),0),c=Object.values(f||[]).reduce((function(e,t){return e+t.pnl}),0),n=Math.round(100*c/t);return Object(y.jsxs)("tr",{children:[Object(y.jsxs)("td",{className:"align-middle",colSpan:"3",children:["TOTALS: ",e," Current Positions"]}),Object(y.jsx)("td",{className:"align-middle text-center",children:H.format(t)}),Object(y.jsx)("td",{className:"align-middle text-center ".concat(c<0?"red":"green"),children:H.format(c)}),Object(y.jsxs)("td",{className:"align-middle text-center ".concat(n<0?"red":"green"),children:[n,"%"]})]})}()})]}):null,L?Object(y.jsxs)(x.a,{responsive:!0,size:"sm",className:"sticky text-light border border-secondary",children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"text-left align-middle",children:"CLOSED POSITIONS"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"OPEN DATE"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"CLOSED DATE"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"CAP RISKED"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"TARGET P/L"}),Object(y.jsx)("th",{className:"text-center align-middle",children:"P/L"})]})}),Object(y.jsx)("tbody",{children:(S||[]).sort((function(e,t){return g()(t.closeDate).valueOf()-g()(e.closeDate)})).map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsxs)("td",{className:"gold",children:[Object(y.jsxs)("div",{className:"text-white",children:[e.symbol," | ",e.type]}),Object(y.jsx)("div",{children:e.text}),Object(y.jsxs)("div",{className:"grey",children:["Quantity: ",e.quantity]})]}),Object(y.jsx)("td",{className:"align-middle text-center",children:g()(e.openDate).format("MMM D HH:mm")}),Object(y.jsx)("td",{className:"align-middle text-center",children:g()(e.closeDate).format("MMM D HH:mm")}),Object(y.jsx)("td",{className:"align-middle text-center",children:H.format(e.draw)}),Object(y.jsx)("td",{className:"align-middle text-center",children:H.format("25")}),Object(y.jsx)("td",{className:"align-middle text-center ".concat(e.pnl<0?"red":"green"),children:H.format(e.pnl)})]},t)}))}),Object(y.jsx)("tfoot",{children:function(){var e=(S||[]).length,t=Object.values(S||[]).reduce((function(e,t){return e+t.draw}),0),c=Object.values(S||[]).reduce((function(e,t){var c=t.quantity;return e+c/c*25}),0),n=H.format(Math.round(Object.values(S||[]).reduce((function(e,t){return e+t.pnl}),0)));return Object(y.jsxs)("tr",{children:[Object(y.jsxs)("td",{className:"align-middle",colSpan:"3",children:["TOTALS: ",e," Closed Positions"]}),Object(y.jsx)("td",{className:"align-middle text-center",children:H.format(t)}),Object(y.jsx)("td",{className:"align-middle text-center",children:H.format(c)}),Object(y.jsx)("td",{className:"align-middle text-center ".concat(n<0?"red":"green"),children:n})]})}()})]}):null]})]})]})})]})};c(41);s.a.createRoot(document.getElementById("root")).render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(v,{})}))}},[[42,1,2]]]);
//# sourceMappingURL=main.fa93f8d5.chunk.js.map