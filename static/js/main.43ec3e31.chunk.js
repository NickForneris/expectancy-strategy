(this["webpackJsonpmy-oa-bot"]=this["webpackJsonpmy-oa-bot"]||[]).push([[0],{53:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(41),s=c.n(r),l=c(18),i=c(8),d=c(2),o=c(4),j=c(73),m=c(67),u=c(43),b=c(72),h=c(68),x=c(69),O=c(70),f=c(71),g=(c(53),c(16)),N=c.n(g),p=c(42),y=c.n(p),v=c(1);var D=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(),s=Object(o.a)(r,2),g=s[0],p=s[1],D=Object(n.useState)(),M=Object(o.a)(D,2),S=M[0],T=M[1],w=Object(n.useState)(!0),A=Object(o.a)(w,2),E=A[0],I=A[1],C=Object(n.useState)(!1),P=Object(o.a)(C,2),R=P[0],Y=P[1],F=Object(n.useState)(!1),k=Object(o.a)(F,2),L=k[0],z=k[1],q=Object(n.useState)("Elpis Auto Expectancy"),B=Object(o.a)(q,2),H=B[0],K=B[1],U="/expectancy-strategy/botdata/"+H+" Total.json",J="/expectancy-strategy/botdata/"+H+" Open.json",Q="/expectancy-strategy/botdata/"+H+" Closed.json";Object(n.useEffect)((function(){fetch(U).then((function(e){return e.json()})).then((function(e){return a(e)})).then(fetch(J).then((function(e){return e.json()})).then((function(e){return p(e)}))).then(fetch(Q).then((function(e){return e.json()})).then((function(e){return T(e)})))}),[U,Q,J,H]);var W=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),G=[],X=[],V=[],Z="Elpis Trade Ideas"===H?50:25;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(j.a,{bg:"dark",sticky:"top",children:Object(v.jsx)(m.a,{fluid:!0,children:Object(v.jsxs)(j.a.Brand,{className:"text-light p-0",style:{display:"flex",alignItems:"center"},children:[Object(v.jsx)("img",{src:"/expectancy-strategy/OptionsAnalyzerS.png",alt:"logo - target with arrow",className:"mt-1 mb-2",style:{width:"2.25em"}}),Object(v.jsx)(u.a,{className:"b-color m-2 p-2 text-center mr-auto",href:"https://optionalpha.com/",children:"Data Sourced from Option Alpha"}),Object(v.jsxs)(b.a,{children:[Object(v.jsx)(b.a.Toggle,{variant:"primary",id:"bot-select",className:"b-color m-2 p-2 text-center",children:H}),Object(v.jsx)(b.a.Menu,{children:["Elpis Auto Expectancy","Elpis Trade Ideas"].map((function(e){return Object(v.jsx)(b.a.Item,{onClick:function(){return K(e)},children:e},e)}))})]})]})})}),Object(v.jsx)(m.a,{fluid:!0,children:Object(v.jsxs)(h.a,{className:"overflow-hidden",children:[function(){var e=Object.entries((S||[]).reduce((function(e,t){var c=t.closeDate,n=t.pnl;return Object(d.a)(Object(d.a)({},e),{},Object(i.a)({},N()(c).format("MMM DD YYYY"),(e[N()(c).format("MMM DD YYYY")]||0)+n))}),{})).map((function(e){var t=Object(o.a)(e,2);return{closeDate:t[0],pnl:t[1]}})).sort((function(e,t){return new Date(e.closeDate)-new Date(t.closeDate)})),t=Object.entries((S||[]).reduce((function(e,t){var c=t.closeDate,n=t.quantity;return Object(d.a)(Object(d.a)({},e),{},Object(i.a)({},N()(c).format("MMM DD YYYY"),(e[N()(c).format("MMM DD YYYY")]||0)+n/n))}),{})).map((function(e){var t=Object(o.a)(e,2);return{closeDate:t[0],quantity:t[1]}})).sort((function(e,t){return new Date(e.closeDate)-new Date(t.closeDate)}));G=Array.from(e.map((function(e){return e.closeDate}))).sort((function(e,t){return new Date(e.closeDate)-new Date(t.closeDate)})),X=Array.from(e.map((function(e){return e.pnl}))).reduce((function(e,t,c){return 0===c?[t]:[].concat(Object(l.a)(e),[t+e[c-1]])}),[]),V=Array.from(t.map((function(e){return e.quantity*Z}))).reduce((function(e,t,c){return 0===c?[t]:[].concat(Object(l.a)(e),[t+e[c-1]])}),[]);var c={options:{annotations:{xaxis:[{x:"Jan 24 2023",strokeDashArray:1,borderColor:"#FF10F0",label:{orientation:"horizontal",borderColor:"#FF10F0",style:{color:"#fff",background:"#FF10F0"},text:["FIXED ROR ERROR","START NEW POSITION STRATEGY"]}}]},chart:{id:"area",type:"area",foreColor:"#fff",toolbar:{show:!1},zoom:{enabled:!1,autoScaleYaxis:!0}},tooltip:{enabled:!0},xaxis:{categories:G,tooltip:{enabled:!1}},dataLabels:{enabled:!1}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.5,stops:[0,50,100]}},series:[{name:"Projected P/L",data:V,color:"#1589FF"},{name:"Actual P/L",data:X,color:"#16F529"}]};return Object(v.jsxs)("div",{className:"pl-chart mb-3 text-white",children:[H,Object(v.jsx)(y.a,{options:c.options,series:c.series,type:"area",width:"100%",height:"175%"})]})}(),Object(v.jsx)(x.a,{sm:2,children:Object(v.jsxs)(O.a,{size:"sm",className:"text-light border border-secondary mt-3",children:[Object(v.jsx)("thead",{children:Object(v.jsx)("tr",{children:Object(v.jsx)("th",{className:"text-center",colSpan:"2",children:"METRICS"})})}),function(){var e=(S||[]).filter((function(e){return"cancelled"!==e.status})).reduce((function(e,t){var c=t.pnl;return c>0?e.wins++:c<0&&e.losses++,e}),{wins:0,losses:0}),t=Math.round(e.wins/(S||[]).length*100)/100,c=Math.round(e.losses/(S||[]).length*100)/100,n=t*((S||[]).filter((function(e){return e.pnl>0})).reduce((function(e,t){return e+t.pnl}),0)/(S||[]).filter((function(e){return e.pnl>0})).length)-c*(-1*(S||[]).filter((function(e){return e.pnl<0})).reduce((function(e,t){return e+t.pnl}),0)/(S||[]).filter((function(e){return e.pnl<0})).length),a=Object.values(S||[]).reduce((function(e,t){return e+t.draw}),0),r=Math.round(Object.values(S||[]).reduce((function(e,t){return e+t.pnl}),0)),s=(r/Math.max.apply(Math,Object(l.a)((S||[]).map((function(e){return e.draw}))))).toFixed(2),i=r/a;return Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"Win Percentage"}),Object(v.jsxs)("td",{className:"align-middle",children:[Math.round(100*t),"%"]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"Loss Percentage"}),Object(v.jsxs)("td",{className:"align-middle",children:[Math.round(100*c),"%"]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"Calmar Ratio"}),Object(v.jsx)("td",{className:"align-middle",children:s})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"Return on Risk"}),Object(v.jsxs)("td",{className:"align-middle",children:[Math.round(100*i),"%"]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"Expectancy Per Trade"}),Object(v.jsx)("td",{className:"align-middle",children:W.format(n)})]})]})}()]})}),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(h.a,{className:"mx-auto mt-3",children:Object(v.jsxs)(f.a,{children:[Object(v.jsx)(u.a,{variant:"outline-secondary",size:"small",className:"mb-2",onClick:function(){I(!E),Y(!1),z(!1)},children:"Bot Details"}),Object(v.jsx)(u.a,{variant:"outline-secondary",size:"small",className:"mb-2",onClick:function(){Y(!R),I(!1),z(!1)},children:"Current Positions"}),Object(v.jsx)(u.a,{variant:"outline-secondary",size:"small",className:"mb-2",onClick:function(){z(!L),Y(!1),I(!1)},children:"Closed Positions"})]})}),Object(v.jsxs)(h.a,{className:"mx-auto mt-3 mb-2 p-1",children:[E?Object(v.jsxs)(O.a,{responsive:!0,size:"sm",className:"sticky text-light border border-secondary",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"text-left header align-middle",children:"BOT"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"POSITIONS"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"ALLOCATION"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"CAP AT RISK"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"P/L"})]})}),Object(v.jsx)("tbody",{children:(c||[]).sort((function(e,t){return t.pnl-e.pnl})).map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle gold",children:e.name}),Object(v.jsx)("td",{className:"align-middle text-center",children:e.pcount}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(e.seed)}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(e.draw)}),Object(v.jsxs)("td",{className:"align-middle text-center ".concat(e.pnl<0?"red":"green"),children:[W.format(e.pnl),Object(v.jsx)("br",{}),Math.round(100*e.roi),"%"]})]},t)}))}),Object(v.jsx)("tfoot",{children:function(){var e=Object.values(c||[]).reduce((function(e,t){return e+t.pcount}),0),t=Object.values(c||[]).reduce((function(e,t){return e+t.seed}),0),n=Object.values(c||[]).reduce((function(e,t){return e+t.draw}),0),a=Object.values(c||[]).reduce((function(e,t){return e+t.pnl}),0),r=Math.round(100*a/t);return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"TOTALS"}),Object(v.jsx)("td",{className:"align-middle text-center",children:e}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(t)}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(n)}),Object(v.jsxs)("td",{className:"align-middle text-center ".concat(a<0?"red":"green"),children:[W.format(a),Object(v.jsx)("br",{}),r,"%"]})]})}()})]}):null,R?Object(v.jsxs)(O.a,{responsive:!0,size:"sm",className:"sticky text-light border border-secondary",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"text-left align-middle",children:"CURRENT POSITIONS"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"DAYS"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"QTY"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"CAP AT RISK"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"P/L"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"RETURN ON RISK"})]})}),Object(v.jsx)("tbody",{children:(g||[]).filter((function(e){return!isNaN(e.days)&&""!==e.days})).sort((function(e,t){return e.days-t.days})).map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{className:"gold",children:[Object(v.jsxs)("div",{className:"text-white",children:[e.symbol," | ",e.strategy]}),Object(v.jsx)("div",{children:e.text}),Object(v.jsxs)("div",{className:"grey",children:[N()(e.expiration).format("MMM D")," "]})]}),Object(v.jsx)("td",{className:"align-middle text-center",children:e.days}),Object(v.jsx)("td",{className:"align-middle text-center",children:e.quantity}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(e.draw)}),Object(v.jsx)("td",{className:"align-middle text-center ".concat(e.pnl<0?"red":"green"),children:W.format(e.pnl)}),Object(v.jsxs)("td",{className:"align-middle text-center ".concat(e.ror<0?"red":"green"),children:[Math.round(100*e.ror),"%"]})]},t)}))}),Object(v.jsx)("tfoot",{children:function(){var e=(g||[]).length,t=Object.values(g||[]).reduce((function(e,t){var c=t.draw;return e+(isNaN(c)?0:c)}),0),c=Object.values(g||[]).reduce((function(e,t){var c=t.pnl;return e+(isNaN(c)?0:c)}),0),n=isNaN(c)||isNaN(t)||isNaN(Math.round(100*c/t))?0:Math.round(100*c/t);return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{className:"align-middle",colSpan:"3",children:["TOTALS: ",e," Current Positions"]}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(t)}),Object(v.jsx)("td",{className:"align-middle text-center ".concat(c<0?"red":"green"),children:W.format(c)}),Object(v.jsxs)("td",{className:"align-middle text-center ".concat(n<0?"red":"green"),children:[n,"%"]})]})}()})]}):null,L?Object(v.jsxs)(O.a,{responsive:!0,size:"sm",className:"sticky text-light border border-secondary",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"text-left align-middle",children:"CLOSED POSITIONS"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"OPEN DATE"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"CLOSED DATE"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"CAP RISKED"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"P/L"})]})}),Object(v.jsx)("tbody",{children:(S||[]).filter((function(e){return"cancelled"!==e.status})).sort((function(e,t){return N()(t.closeDate).valueOf()-N()(e.closeDate)})).map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{className:"gold",children:[Object(v.jsxs)("div",{className:"text-white",children:[e.symbol," | ",e.type]}),Object(v.jsx)("div",{children:e.text}),Object(v.jsxs)("div",{className:"grey",children:["Quantity: ",e.quantity]})]}),Object(v.jsx)("td",{className:"align-middle text-center",children:N()(e.openDate).format("MMM D HH:mm")}),Object(v.jsx)("td",{className:"align-middle text-center",children:N()(e.closeDate).format("MMM D HH:mm")}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(e.draw)}),Object(v.jsx)("td",{className:"align-middle text-center ".concat(e.pnl<0?"red":"green"),children:W.format(e.pnl)})]},t)}))}),Object(v.jsx)("tfoot",{children:function(){var e=(S||[]).filter((function(e){return"cancelled"!==e.status})).length,t=Object.values(S||[]).reduce((function(e,t){return e+t.draw}),0),c=W.format(Math.round(Object.values(S||[]).reduce((function(e,t){return e+t.pnl}),0)));return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{className:"align-middle",colSpan:"3",children:["TOTALS: ",e," Closed Positions"]}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(t)}),Object(v.jsx)("td",{className:"align-middle text-center ".concat(c<0?"red":"green"),children:c})]})}()})]}):null]})]})]})})]})};c(59);s.a.createRoot(document.getElementById("root")).render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(D,{})}))}},[[60,1,2]]]);
//# sourceMappingURL=main.43ec3e31.chunk.js.map