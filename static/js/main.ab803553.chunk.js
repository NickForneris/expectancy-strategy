(this["webpackJsonpmy-oa-bot"]=this["webpackJsonpmy-oa-bot"]||[]).push([[0],{53:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(41),s=n.n(r),l=n(17),i=n(8),d=n(2),o=n(4),j=n(73),m=n(67),b=n(43),h=n(72),u=n(68),x=n(69),O=n(70),f=n(71),g=(n(53),n(15)),N=n.n(g),p=n(42),y=n.n(p),v=n(1);var D=function(){var e=Object(c.useState)(),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(),s=Object(o.a)(r,2),g=s[0],p=s[1],D=Object(c.useState)(),M=Object(o.a)(D,2),S=M[0],w=M[1],T=Object(c.useState)(!0),C=Object(o.a)(T,2),A=C[0],P=C[1],I=Object(c.useState)(!1),R=Object(o.a)(I,2),Y=R[0],E=R[1],F=Object(c.useState)(!1),k=Object(o.a)(F,2),L=k[0],z=k[1],q=Object(c.useState)("\u0395\u03bb\u03c0\u03b9\u03c2 (Elpis)"),B=Object(o.a)(q,2),H=B[0],K=B[1],U="/expectancy-strategy/botdata/"+H+" Total.json",J="/expectancy-strategy/botdata/"+H+" Open.json",Q="/expectancy-strategy/botdata/"+H+" Closed.json";Object(c.useEffect)((function(){fetch(U).then((function(e){return e.json()})).then((function(e){return a(e)})).then(fetch(J).then((function(e){return e.json()})).then((function(e){return p(e)}))).then(fetch(Q).then((function(e){return e.json()})).then((function(e){return w(e.filter((function(e){return"canceled"!==e.status})))})))}),[U,Q,J,H]);var W=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),G=[],X=[],V=[],Z="\u039a\u03b1\u03c3\u03c3\u03ac\u03bd\u03b4\u03c1\u03b1 (Cassandra)"===H?50:25;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(j.a,{bg:"dark",sticky:"top",children:Object(v.jsx)(m.a,{fluid:!0,children:Object(v.jsxs)(j.a.Brand,{className:"text-light p-0",style:{display:"flex",alignItems:"center"},children:[Object(v.jsx)("img",{src:"/expectancy-strategy/OptionsAnalyzerS.png",alt:"logo - target with arrow",className:"mt-1 mb-2",style:{width:"2.25em"}}),Object(v.jsx)(b.a,{className:"b-color m-2 p-2 text-center mr-auto",href:"https://optionalpha.com/",children:"Data Sourced from Option Alpha"}),Object(v.jsxs)(h.a,{children:[Object(v.jsx)(h.a.Toggle,{variant:"primary",id:"bot-select",className:"b-color m-2 p-2 text-center",children:H}),Object(v.jsx)(h.a.Menu,{children:["\u0395\u03bb\u03c0\u03b9\u03c2 (Elpis)","\u039a\u03b1\u03c3\u03c3\u03ac\u03bd\u03b4\u03c1\u03b1 (Cassandra)"].map((function(e){return Object(v.jsx)(h.a.Item,{onClick:function(){return K(e)},children:e},e)}))})]})]})})}),Object(v.jsx)(m.a,{fluid:!0,children:Object(v.jsxs)(u.a,{className:"overflow-hidden",children:[function(){var e=Object.entries((S||[]).reduce((function(e,t){var n=t.closeDate,c=t.pnl;return Object(d.a)(Object(d.a)({},e),{},Object(i.a)({},N()(n).format("MMM DD YYYY"),(e[N()(n).format("MMM DD YYYY")]||0)+c))}),{})).map((function(e){var t=Object(o.a)(e,2);return{closeDate:t[0],pnl:t[1]}})).sort((function(e,t){return new Date(e.closeDate)-new Date(t.closeDate)})),t=Object.entries((S||[]).reduce((function(e,t){var n=t.closeDate,c=t.quantity;return Object(d.a)(Object(d.a)({},e),{},Object(i.a)({},N()(n).format("MMM DD YYYY"),(e[N()(n).format("MMM DD YYYY")]||0)+c/c))}),{})).map((function(e){var t=Object(o.a)(e,2);return{closeDate:t[0],quantity:t[1]}})).sort((function(e,t){return new Date(e.closeDate)-new Date(t.closeDate)}));G=Array.from(e.map((function(e){return e.closeDate}))).sort((function(e,t){return new Date(e.closeDate)-new Date(t.closeDate)})),X=Array.from(e.map((function(e){return e.pnl}))).reduce((function(e,t,n){return 0===n?[t]:[].concat(Object(l.a)(e),[t+e[n-1]])}),[]),V=Array.from(t.map((function(e){return e.quantity*Z}))).reduce((function(e,t,n){return 0===n?[t]:[].concat(Object(l.a)(e),[t+e[n-1]])}),[]);var n={options:{annotations:{xaxis:[{x:"Jan 24 2023",strokeDashArray:1,borderColor:"#FF10F0",label:{orientation:"horizontal",borderColor:"#FF10F0",style:{color:"#fff",background:"#FF10F0"},text:["FIXED ROR ERROR","START NEW POSITION STRATEGY"]}}]},chart:{id:"area",type:"area",foreColor:"#fff",toolbar:{show:!1},zoom:{enabled:!1,autoScaleYaxis:!0}},tooltip:{enabled:!0},xaxis:{categories:G,tooltip:{enabled:!1}},dataLabels:{enabled:!1}},fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.5,stops:[0,50,100]}},series:[{name:"Projected P/L",data:V,color:"#1589FF"},{name:"Actual P/L",data:X,color:"#16F529"}]};return Object(v.jsxs)("div",{className:"pl-chart mb-3 text-white",children:[H,Object(v.jsx)(y.a,{options:n.options,series:n.series,type:"area",width:"100%",height:"175%"})]})}(),Object(v.jsx)(x.a,{sm:2,children:Object(v.jsxs)(O.a,{size:"sm",className:"text-light border border-secondary mt-3",children:[Object(v.jsx)("thead",{children:Object(v.jsx)("tr",{children:Object(v.jsx)("th",{className:"text-center",colSpan:"2",children:"METRICS"})})}),function(){var e=(S||[]).reduce((function(e,t){var n=t.pnl;return n>0?e.wins++:n<0&&e.losses++,e}),{wins:0,losses:0}),t=Math.round(e.wins/(S||[]).length*100)/100,n=Math.round(e.losses/(S||[]).length*100)/100,c=t*((S||[]).filter((function(e){return e.pnl>0})).reduce((function(e,t){return e+t.pnl}),0)/(S||[]).filter((function(e){return e.pnl>0})).length)-n*(-1*(S||[]).filter((function(e){return e.pnl<0})).reduce((function(e,t){return e+t.pnl}),0)/(S||[]).filter((function(e){return e.pnl<0})).length),a=Object.values(S||[]).reduce((function(e,t){return e+t.draw}),0),r=Math.round(Object.values(S||[]).reduce((function(e,t){return e+t.pnl}),0)),s=(r/Math.max.apply(Math,Object(l.a)((S||[]).map((function(e){return e.draw}))))).toFixed(2),i=r/a;return Object(v.jsxs)("tbody",{children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"Win Percentage"}),Object(v.jsxs)("td",{className:"align-middle",children:[Math.round(100*t),"%"]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"Loss Percentage"}),Object(v.jsxs)("td",{className:"align-middle",children:[Math.round(100*n),"%"]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"Calmar Ratio"}),Object(v.jsx)("td",{className:"align-middle",children:s})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"Return on Risk"}),Object(v.jsxs)("td",{className:"align-middle",children:[Math.round(100*i),"%"]})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"Expectancy Per Trade"}),Object(v.jsx)("td",{className:"align-middle",children:W.format(c)})]})]})}()]})}),Object(v.jsxs)(x.a,{children:[Object(v.jsx)(u.a,{className:"mx-auto mt-3",children:Object(v.jsxs)(f.a,{children:[Object(v.jsx)(b.a,{variant:"outline-secondary",size:"small",className:"mb-2",onClick:function(){P(!A),E(!1),z(!1)},children:"Bot Details"}),Object(v.jsx)(b.a,{variant:"outline-secondary",size:"small",className:"mb-2",onClick:function(){E(!Y),P(!1),z(!1)},children:"Current Positions"}),Object(v.jsx)(b.a,{variant:"outline-secondary",size:"small",className:"mb-2",onClick:function(){z(!L),E(!1),P(!1)},children:"Closed Positions"})]})}),Object(v.jsxs)(u.a,{className:"mx-auto mt-3 mb-2 p-1",children:[A?Object(v.jsxs)(O.a,{responsive:!0,size:"sm",className:"sticky text-light border border-secondary",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"text-left header align-middle",children:"BOT"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"POSITIONS"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"ALLOCATION"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"CAP AT RISK"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"P/L"})]})}),Object(v.jsx)("tbody",{children:(n||[]).sort((function(e,t){return t.pnl-e.pnl})).map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle gold",children:e.name}),Object(v.jsx)("td",{className:"align-middle text-center",children:e.pcount}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(e.seed)}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(e.draw)}),Object(v.jsxs)("td",{className:"align-middle text-center ".concat(e.pnl<0?"red":"green"),children:[W.format(e.pnl),Object(v.jsx)("br",{}),Math.round(100*e.roi),"%"]})]},t)}))}),Object(v.jsx)("tfoot",{children:function(){var e=Object.values(n||[]).reduce((function(e,t){return e+t.pcount}),0),t=Object.values(n||[]).reduce((function(e,t){return e+t.seed}),0),c=Object.values(n||[]).reduce((function(e,t){return e+t.draw}),0),a=Object.values(n||[]).reduce((function(e,t){return e+t.pnl}),0),r=Math.round(100*a/t);return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{className:"align-middle",children:"TOTALS"}),Object(v.jsx)("td",{className:"align-middle text-center",children:e}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(t)}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(c)}),Object(v.jsxs)("td",{className:"align-middle text-center ".concat(a<0?"red":"green"),children:[W.format(a),Object(v.jsx)("br",{}),r,"%"]})]})}()})]}):null,Y?Object(v.jsxs)(O.a,{responsive:!0,size:"sm",className:"sticky text-light border border-secondary",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"text-left align-middle",children:"CURRENT POSITIONS"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"DAYS"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"QTY"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"CAP AT RISK"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"P/L"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"RETURN ON RISK"})]})}),Object(v.jsx)("tbody",{children:(g||[]).filter((function(e){return!isNaN(e.days)&&""!==e.days})).sort((function(e,t){return e.days-t.days})).map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{className:"gold",children:[Object(v.jsxs)("div",{className:"text-white",children:[e.symbol," | ",e.strategy]}),Object(v.jsx)("div",{children:e.text}),Object(v.jsxs)("div",{className:"grey",children:[N()(e.expiration).format("MMM D")," "]})]}),Object(v.jsx)("td",{className:"align-middle text-center",children:e.days}),Object(v.jsx)("td",{className:"align-middle text-center",children:e.quantity}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(e.draw)}),Object(v.jsx)("td",{className:"align-middle text-center ".concat(e.pnl<0?"red":"green"),children:W.format(e.pnl)}),Object(v.jsxs)("td",{className:"align-middle text-center ".concat(e.ror<0?"red":"green"),children:[Math.round(100*e.ror),"%"]})]},t)}))}),Object(v.jsx)("tfoot",{children:function(){var e=(g||[]).length,t=Object.values(g||[]).reduce((function(e,t){var n=t.draw;return e+(isNaN(n)?0:n)}),0),n=Object.values(g||[]).reduce((function(e,t){var n=t.pnl;return e+(isNaN(n)?0:n)}),0),c=isNaN(n)||isNaN(t)||isNaN(Math.round(100*n/t))?0:Math.round(100*n/t);return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{className:"align-middle",colSpan:"3",children:["TOTALS: ",e," Current Positions"]}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(t)}),Object(v.jsx)("td",{className:"align-middle text-center ".concat(n<0?"red":"green"),children:W.format(n)}),Object(v.jsxs)("td",{className:"align-middle text-center ".concat(c<0?"red":"green"),children:[c,"%"]})]})}()})]}):null,L?Object(v.jsxs)(O.a,{responsive:!0,size:"sm",className:"sticky text-light border border-secondary",children:[Object(v.jsx)("thead",{children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{className:"text-left align-middle",children:"CLOSED POSITIONS"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"OPEN DATE"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"CLOSED DATE"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"CAP RISKED"}),Object(v.jsx)("th",{className:"text-center align-middle",children:"P/L"})]})}),Object(v.jsx)("tbody",{children:(S||[]).sort((function(e,t){return N()(t.closeDate).valueOf()-N()(e.closeDate)})).map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{className:"gold",children:[Object(v.jsxs)("div",{className:"text-white",children:[e.symbol," | ",e.type]}),Object(v.jsx)("div",{children:e.text}),Object(v.jsxs)("div",{className:"grey",children:["Quantity: ",e.quantity]})]}),Object(v.jsx)("td",{className:"align-middle text-center",children:N()(e.openDate).format("MMM D HH:mm")}),Object(v.jsx)("td",{className:"align-middle text-center",children:N()(e.closeDate).format("MMM D HH:mm")}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(e.draw)}),Object(v.jsx)("td",{className:"align-middle text-center ".concat(e.pnl<0?"red":"green"),children:W.format(e.pnl)})]},t)}))}),Object(v.jsx)("tfoot",{children:function(){var e=(S||[]).length,t=Object.values(S||[]).reduce((function(e,t){return e+t.draw}),0),n=W.format(Math.round(Object.values(S||[]).reduce((function(e,t){return e+t.pnl}),0)));return Object(v.jsxs)("tr",{children:[Object(v.jsxs)("td",{className:"align-middle",colSpan:"3",children:["TOTALS: ",e," Closed Positions"]}),Object(v.jsx)("td",{className:"align-middle text-center",children:W.format(t)}),Object(v.jsx)("td",{className:"align-middle text-center ".concat(n<0?"red":"green"),children:n})]})}()})]}):null]})]})]})})]})};n(59);s.a.createRoot(document.getElementById("root")).render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(D,{})}))}},[[60,1,2]]]);
//# sourceMappingURL=main.ab803553.chunk.js.map